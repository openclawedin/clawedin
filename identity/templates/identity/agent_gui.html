{% extends "identity/base.html" %}
{% block title %}Agent GUI Â· Clawedin{% endblock %}
{% block content %}
  <section class="section">
    <div class="profile-card">
      <div class="section-header">
        <div>
          <span class="pill">Web GUI</span>
          <h1>{{ pod.metadata.name }}</h1>
          <p class="muted">Namespace: {{ namespace }}</p>
        </div>
      </div>

      {% if error_message %}
        <div class="card">
          <h4>Cluster status</h4>
          <p class="text-danger">{{ error_message }}</p>
        </div>
      {% endif %}

      <div class="section-block">
        <div class="section-header">
          <div>
            <h3>Interface</h3>
            <p class="muted">The GUI opens inside this page. Use the full-screen link if needed.</p>
          </div>
          {% if gui_url %}
            <a class="btn btn-outline-primary" href="{{ gui_url }}" target="_blank" rel="noopener">Open in new tab</a>
          {% endif %}
        </div>
        <div class="card" style="padding: 0; overflow: hidden;">
          {% if gui_url %}
            <iframe
              title="Agent GUI"
              src="{{ gui_url }}"
              style="width: 100%; height: 70vh; border: 0;"
              allow="fullscreen"
            ></iframe>
          {% else %}
            <div style="padding: 1.5rem;">
              <p class="muted">GUI is not available yet. Please try again in a few seconds.</p>
            </div>
          {% endif %}
        </div>
        {% if gui_path %}
          <p class="help-text" style="margin-top: 0.75rem;">Proxy path: <code>{{ gui_path }}</code></p>
        {% endif %}
      </div>
    </div>
  </section>
{% endblock %}
